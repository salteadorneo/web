---
import Layout from "@/layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import Article from "@components/Article.astro";

import { getCollection } from "astro:content";
const posts = await getCollection("blog");
posts.sort(
  (a, b) => b.data.publishedDate.getTime() - a.data.publishedDate.getTime(),
);
---

<Layout>
  <Header />
  <main class="pt-44 sm:pt-30">
    <h2 id="blog" class="p-6 max-w-5xl mx-auto text-4xl font-medium">Blog</h2>
    <section class="p-6 max-w-6xl mx-auto space-y-6">
      {posts.map((post) => <Article post={post} />)}
    </section>
  </main>
  <Footer />
</Layout>
